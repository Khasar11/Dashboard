d3.tip=function(){var t,e=function t(){return"n"},n=function t(){return[0,0]},r=function t(){return" "},o=(t=d3.select(document.createElement("div")),t.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),t.node()),l=null,s=null,f=null;function i(t){var e;s=(l=(e=t,"svg"==(e=e.node()).tagName.toLowerCase()?e:e.ownerSVGElement)).createSVGPoint(),document.body.appendChild(o)}i.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(f=t.pop());var l,s=r.apply(this,t),u=n.apply(this,t),p=e.apply(this,t),y=d3.select(o),h=0;for(y.html(s).style({opacity:1,"pointer-events":"all"});h--;)y.classed(c[h],!1);return l=a.get(p).apply(this),y.classed(p,!0).style({top:l.top+u[0]+"px",left:l.left+u[1]+"px"}),i},i.hide=function(){return(nodel=d3.select(o)).style({opacity:0,"pointer-events":"none"}),i},i.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return d3.select(o).attr(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(o),n),i},i.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return d3.select(o).style(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(o),n),i},i.direction=function(t){return arguments.length?(e=null==t?t:d3.functor(t),i):e},i.offset=function(t){return arguments.length?(n=null==t?t:d3.functor(t),i):n},i.html=function(t){return arguments.length?(r=null==t?t:d3.functor(t),i):r};var a=d3.map({n:function t(){var e=u();return{top:e.n.y-o.offsetHeight,left:e.n.x-o.offsetWidth/2}},s:function t(){var e=u();return{top:e.s.y,left:e.s.x-o.offsetWidth/2}},e:function t(){var e=u();return{top:e.e.y-o.offsetHeight/2,left:e.e.x}},w:function t(){var e=u();return{top:e.w.y-o.offsetHeight/2,left:e.w.x-o.offsetWidth}},nw:function t(){var e=u();return{top:e.nw.y-o.offsetHeight,left:e.nw.x-o.offsetWidth}},ne:function t(){var e=u();return{top:e.ne.y-o.offsetHeight,left:e.ne.x}},sw:function t(){var e=u();return{top:e.sw.y,left:e.sw.x-o.offsetWidth}},se:function t(){var e=u();return{top:e.se.y,left:e.e.x}}}),c=a.keys();function u(){var t=f||d3.event.target,e={},n=t.getScreenCTM(),r=t.getBBox(),o=r.width,l=r.height,i=r.x,a=r.y,c=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;return s.x=i+u,s.y=a+c,e.nw=s.matrixTransform(n),s.x+=o,e.ne=s.matrixTransform(n),s.y+=l,e.se=s.matrixTransform(n),s.x-=o,e.sw=s.matrixTransform(n),s.y-=l/2,e.w=s.matrixTransform(n),s.x+=o,e.e=s.matrixTransform(n),s.x-=o/2,s.y-=l/2,e.n=s.matrixTransform(n),s.y+=l,e.s=s.matrixTransform(n),e}return i};